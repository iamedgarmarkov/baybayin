<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Baybayin :: Panatilihin ang nawawalang kayamanan</title>
		<link rel="stylesheet" href="css/jquery-ui-1.10.4.css">
		<link rel="stylesheet" href="css/estilo.css">
		<script src="js/modernizr.js"></script>
		<script src="js/jquery-1.10.2.js"></script>
		<script src="js/jquery-ui-1.10.4.js"></script>
		<script src="js/alpabeto.js"></script>
		<script src="js/lohika.js"></script>

		<script>
			$(document).ready(function() {
				$("#radioset").buttonset();

				Pasimula();

				function SuportaSaCanvas() {
				  	return Modernizr.canvas;
				}

				function Pasimula() {
					if (!SuportaSaCanvas()) {
						return;
					}
						
					var fontSize = "35";
					var fontFace = "Baybayin";
					var fontWeight = "normal";
					var fontStyle = "normal";

					var theCanvas = $("#canvas")[0];
					var context = theCanvas.getContext("2d"); 
                    
                    Pagsasalin();
                    
					$("#lakiNgFont").change(function() {
						fontSize = this.value;

						theCanvas.width = 500 + parseInt($("#lakiNgFont").val());

						GuhintinAngTabing();
					});

					$("#karaniwang").keyup(function() {
                        Pagsasalin();
					});
					
                    function Pagsasalin() {
						var ORIHINAL_NA_SALITA = $("#karaniwang").val();
						message = suriinAngTitik(ORIHINAL_NA_SALITA.toLowerCase(), $("input[name=radio]:checked").val());

						GuhintinAngTabing();                    
                    }
                    
					function GuhintinAngTabing() {

						context.fillStyle = "#000000";
						context.fillRect(0, 0, theCanvas.width, theCanvas.height);
						context.strokeStyle = "#9BCC60"; 
						context.strokeRect(5,  5, theCanvas.width-10, theCanvas.height-10);
						context.font = fontSize + "px " + fontFace;

						var metrics = context.measureText(message.trim());
						var textWidth = metrics.width;
						var xPosition = (theCanvas.width/2) - (textWidth/2);
						var yPosition = (theCanvas.height/2);

						context.fillStyle = "#9BCC60";
				   	 	context.fillText(message.trim(),  xPosition ,yPosition);	

				   	 	$("#download").attr("href", theCanvas.toDataURL());
					}
				}
			});
		</script>
	</head>

	<body>
		<header>
			<h1>Isalin sa Baybayin</h1>
		</header>
		<br />
		<div id="radioset">
			<input type="radio" id="radio1" name="radio" value="1"><label for="radio1">Tradisyonal</label>
			<input type="radio" id="radio2" name="radio" value="2" checked="checked"><label for="radio2">Makabago</label>
		</div>
		<br />
		<textarea class="ui-widget ui-state-default ui-corner-all" id="karaniwang" rows="4" cols="50" maxlength="13" size="13" placeholder="Ilagay ang nais na salita"></textarea>
		<br />
		<div>
			<p>
				Laki ng Font: 
				<br />
				<input type="range" id="lakiNgFont" min="0" max="200" step="1" value="35"/>
			</p>
		</div>
		<p>Nasalin na salita</p>

		<canvas id="canvas" width="500" height="300">
			Hindi sinusuportahan ng iyong browser ang HTML 5 Canvas. 
		</canvas>
		<br />
		<a href="#" class="ui-widget ui-state-default ui-corner-all" id="download" download="baybayin.png">[ Kunin ang Larawan ]</a>

		<article>
		<p>
			<u>Ito ay hindi 100% na wastong pagsasalin.</u> Sa tamang paggamit ng baybayin, maaaring sumangguni lamang sa <a href="http://www.mts.net/~pmorrow/bayeng2.htm">tagubilin</a>.<br>
			Ang walong titik mula sa alpabetong Espanyol na nakikita sa Makabagong Alpabetong Filipino (C, F, J, Ã‘, Q, V, X, Z) ay hindi gagamitin sa pagsasalin.<br>
			<br>
			<div class="warning">
				<i>Ang karapatang magpalathala ng mga kasangkapang ginamit sa pagsasalin dito ay nabibilang sa kani-kanilang may-ari.</i>
			</div>
			</p>
		</article>
	</body>
</html>
